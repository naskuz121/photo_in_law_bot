from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import ApplicationBuilder, CommandHandler, MessageHandler, ContextTypes, filters

main_buttons = [['üì• –û—Ç—Ä–∏–º–∞—Ç–∏ –≥–∞–π–¥', '‚ÑπÔ∏è –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –∫—É—Ä—Å']]
more_button = [['üî• –•–æ—á—É!']]
payment_buttons = [['üí≥ –¢–∞—Ä–∏—Ñ–∏'], ['‚û°Ô∏è –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ–ø–ª–∞—Ç–∏', '‚ùì –ó–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è']]

keyboard_main = ReplyKeyboardMarkup(main_buttons, resize_keyboard=True)
keyboard_more = ReplyKeyboardMarkup(more_button, resize_keyboard=True)
keyboard_payment = ReplyKeyboardMarkup(payment_buttons, resize_keyboard=True)

guide_message = (
    "–ü—Ä–∏–≤—ñ—Ç, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ!\n\n"
    "–¢–∏ —â–æ–π–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –≥–∞–π–¥ ‚Äî –æ—Ç–∂–µ, –≤–∂–µ –∑—Ä–æ–±–∏–≤ –ø–µ—Ä—à–∏–π –∫—Ä–æ–∫ –¥–æ –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ —É —Å–≤–æ—ó—Ö –ø—Ä–∞–≤–∞—Ö.\n\n"
    "–ê —Ç–µ–ø–µ—Ä ‚Äî –¥–∞–≤–∞–π –ø–æ-—Å–ø—Ä–∞–≤–∂–Ω—å–æ–º—É —Ä–æ–∑–±–µ—Ä–µ–º–æ—Å—è, —è–∫ –ó–ê–•–ò–°–¢–ò–¢–ò —Å–µ–±–µ, —Å–≤–æ—ó —Ñ–æ—Ç–æ —ñ —Å–≤–æ—ó –≥—Ä–æ—à—ñ.\n"
    "–ó–∞–ø—Ä–æ—à—É—é —Ç–µ–±–µ –Ω–∞ –º—ñ–π –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å ¬´–§–æ—Ç–æ–≥—Ä–∞—Ñ –≤ –∑–∞–∫–æ–Ω—ñ¬ª ‚Äî —Ü–µ —é—Ä–∏–¥–∏—á–Ω–∏–π –∑–∞—Ö–∏—Å—Ç, —è–∫–∏–π –Ω–µ –∑—ñ—Ç—Ä–µ—Ç—å—Å—è —Ñ—ñ–ª—å—Ç—Ä–æ–º.\n\n"
    "–•–æ—á–µ—à –±—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫—É—Ä—Å –∞–±–æ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –≤–∞—Ä—Ç—ñ—Å—Ç—å —É—á–∞—Å—Ç—ñ?"
)

course_program = (
    "–ü—Ä–æ–≥—Ä–∞–º–∞ –∫—É—Ä—Å—É –§–æ—Ç–æ–≥—Ä–∞—Ñ –≤ –∑–∞–∫–æ–Ω—ñ 1.0\n\n"
    "1. –ê–≤—Ç–æ—Ä—Å—å–∫–µ –ø—Ä–∞–≤–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞.\n"
    "1.1. –û—Å–æ–±–∏—Å—Ç—ñ –Ω–µ–º–∞–π–Ω–æ–≤—ñ –ø—Ä–∞–≤–∞ –∞–≤—Ç–æ—Ä–∞. –ù–µ–¥–æ—Ç–æ—Ä–∫–∞–Ω—ñ—Å—Ç—å —Ç–≤–æ—Ä—É.\n"
    "1.2. –û—Å–æ–±–∏—Å—Ç—ñ –º–∞–π–Ω–æ–≤—ñ –ø—Ä–∞–≤–∞ –∞–≤—Ç–æ—Ä–∞.\n"
    "1.3. –Ø–∫—ñ —Ç–≤–æ—Ä–∏ –∑–∞—Ö–∏—â–∞—é—Ç—å—Å—è –∞–≤—Ç–æ—Ä—Å—å–∫–∏–º –ø—Ä–∞–≤–æ–º.\n"
    "1.4. –°–ø–æ—Å–æ–±–∏ –∑–∞—Ö–∏—Å—Ç—É –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞.\n"
    "1.4.1. –†–æ–∑–º—ñ—â–µ–Ω–Ω—è –∑–Ω–∞–∫—É ¬©\n"
    "1.4.2. –í–æ–¥—è–Ω–∏–π –∑–Ω–∞–∫.\n"
    "1.4.3. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞.\n"
    "1.5. –û–±‚Äô—î–∫—Ç–∏, —â–æ –Ω–µ –æ—Ö–æ—Ä–æ–Ω—è—é—Ç—å—Å—è –∞–≤—Ç–æ—Ä—Å—å–∫–∏–º –ø—Ä–∞–≤–æ–º.\n\n"
    "2. –ü—Ä–∞–≤–∞ —ñ–Ω—à–∏—Ö –æ—Å—ñ–± –Ω–∞ —Ç–≤—ñ—Ä. –í–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.\n"
    "2.1. –°–ø—ñ–≤–∞–≤—Ç–æ—Ä—Å—Ç–≤–æ\n"
    "2.2. –ê–≤—Ç–æ—Ä—Å—å–∫–µ –ø—Ä–∞–≤–æ –Ω–∞ —Å–ª—É–∂–±–æ–≤–∏–π —Ç–≤—ñ—Ä\n"
    "2.3. –ê–≤—Ç–æ—Ä—Å—å–∫–µ –ø—Ä–∞–≤–æ –Ω–∞ —Ç–≤—ñ—Ä, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º\n"
    "2.4. –ü—ñ–¥—Å—Ç–∞–≤–∏ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞ —ñ —Å—É–º—ñ–∂–Ω–∏—Ö –ø—Ä–∞–≤\n\n"
    "3. –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Å—Ç–∏–ª—é, –ø–æ–∑, –æ–±—Å—Ç–∞–Ω–æ–≤–∫–∏. –ù–∞–¥–∏—Ö–∞–Ω–Ω—è —á—É–∂–∏–º–∏ —Ñ–æ—Ç–æ.\n\n"
    "4. –ö–æ–º—É –Ω–∞–ª–µ–∂–∏—Ç—å –ø—Ä–∞–≤–æ –Ω–∞ —Ñ–æ—Ç–æ –∫–ª—ñ—î–Ω—Ç–∞? –ó–π–æ–º–∫–∞ —É –ø—É–±–ª—ñ—á–Ω–∏—Ö –º—ñ—Å—Ü—è—Ö, –∑–≥–æ–¥–∞ –Ω–∞ –∑–π–æ–º–∫—É\n\n"
    "5. –í–∑–∞—î–º–æ–¥—ñ—è –∑ –∫–ª—ñ—î–Ω—Ç–∞–º–∏.\n"
    "5.1. –ó–∞–≥–∞–ª—å–Ω—ñ –ø–æ–ª–æ–∂–µ–Ω–Ω—è –¶–ö–£ —Ç–∞ –ó–£ ¬´–ü—Ä–æ –ø—Ä–∞–≤–∞ —Å–ø–æ–∂–∏–≤–∞—á—ñ–≤¬ª.\n"
    "5.2. –ù–∞ —â–æ –∑–≤–µ—Ä–Ω—É—Ç–∏ —É–≤–∞–≥—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É –≤ –¥–æ–≥–æ–≤–æ—Ä—ñ –ø—Ä–æ –Ω–∞–¥–∞–Ω–Ω—è –ø–æ—Å–ª—É–≥.\n"
    "5.3. –Ø–∫ –æ—Ñ–æ—Ä–º–∏—Ç–∏ –ø–µ—Ä–µ–¥–ø–ª–∞—Ç—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ñ –≤–∏–≥—ñ–¥–Ω–æ?\n"
    "5.4. –ö–ª—ñ—î–Ω—Ç—É –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç.\n\n"
    "6. –ú–µ—Ö–∞–Ω—ñ–∑–º–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è —Å—Ç–æ—Å—É–Ω–∫—ñ–≤ –∑ –∫–ª—ñ—î–Ω—Ç–æ–º: –¥–æ–≥–æ–≤—ñ—Ä, –æ—Ñ–µ—Ä—Ç–∞, –∑–≥–æ–¥–∞ –Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é —Ñ–æ—Ç–æ ‚Äî —â–æ –∫—Ä–∞—â–µ –æ–±—Ä–∞—Ç–∏? –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.\n\n"
    "6 –º–æ–¥—É–ª—ñ–≤ –≤–∫–ª—é—á–∞—é—Ç—å:\n"
    "‚Ä¢ –í—ñ–¥–µ–æ-—É—Ä–æ–∫–∏ –ø–æ –∫–æ–∂–Ω–æ–º—É –º–æ–¥—É–ª—é;\n"
    "‚Ä¢ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó –¥–æ —É—Ä–æ–∫—ñ–≤ —ñ–∑ –∑–∞–∑–Ω–∞—á–µ–Ω–Ω—è–º —Å—Ç–∞—Ç–µ–π –∑–∞–∫–æ–Ω—ñ–≤;\n"
    "‚Ä¢ –ü—Ä–∏–∫–ª–∞–¥–∏ ‚Äì —Ä–µ–∞–ª—å–Ω—ñ —Å—É–¥–æ–≤—ñ —Å–ø—Ä–∞–≤–∏ –ø–æ —Ç–µ–º—ñ;\n"
    "+ –ë–æ–Ω—É—Å –≥–∞–π–¥ ‚Äî –∑–∞—Ö–∏—Å—Ç –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞ –≤ —Å–æ—Ü–º–µ—Ä–µ–∂–∞—Ö;\n"
    "+ –ë–æ–Ω—É—Å —É—Ä–æ–∫ ‚Äî —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º—É —Å—É–¥—ñ;\n"
    "+ –ë–æ–Ω—É—Å ‚Äî –≥–∞–π–¥ –∑ –º–æ—Ä–∞–ª—å–Ω–æ—ó —à–∫–æ–¥–∏;\n"
    "+ –ë–æ–Ω—É—Å ‚Äî —á–µ–∫-–ª–∏—Å—Ç ¬´–Ø–∫ –∑–Ω—ñ–º–∞—Ç–∏ –ø–æ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—É –±–µ–∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è –∞–≤—Ç–æ—Ä—Å—å–∫–∏—Ö –ø—Ä–∞–≤¬ª"
)

tariffs = (
    "üü¢ –ë–∞–∑–æ–≤–∏–π –ø–∞–∫–µ—Ç ‚Äî 2‚ÄØ500 –≥—Ä–Ω\n"
    "–ü—ñ–¥—ñ–π–¥–µ —Ç–∏–º, —Ö—Ç–æ —Ö–æ—á–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤.\n"
    "‚Ä¢ –î–æ—Å—Ç—É–ø –¥–æ –≤—ñ–¥–µ–æ-—É—Ä–æ–∫—ñ–≤\n"
    "‚Ä¢ –î–æ—Å—Ç—É–ø –¥–æ –∫—É—Ä—Å—É –Ω–∞ 2 –º—ñ—Å—è—Ü—ñ\n"
    "‚Ä¢ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó —Ç–∞ –ø–∏—Å—å–º–æ–≤—ñ –±–æ–Ω—É—Å–∏\n"
    "‚Ä¢ –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç\n"
    "‚Ä¢ –ë–µ–∑ —É—á–∞—Å—Ç—ñ –≤ Zoom-—Å–µ—Å—ñ—ó\n\n"
    "üü° –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–∞–∫–µ—Ç ‚Äî 3‚ÄØ500 –≥—Ä–Ω\n"
    "–ë–∞–∑–∞ + –∑–≤–æ—Ä–æ—Ç–Ω—ñ–π –∑–≤ º—è–∑–æ–∫\n"
    "‚Ä¢ –í—Å–µ –∑ –±–∞–∑–æ–≤–æ–≥–æ –ø–∞–∫–µ—Ç—É\n"
    "‚Ä¢ –£—á–∞—Å—Ç—å —É Zoom-—Å–µ—Å—ñ—ó –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏ –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è\n"
    "‚Ä¢ –ß–∞—Ç –∑ —É—á–∞—Å–Ω–∏–∫–∞–º–∏\n"
    "‚Ä¢ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–¥–∞—Ç–∏ –ø–∏—Å—å–º–æ–≤–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è\n"
    "‚Ä¢ –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É\n\n"
    "üî¥ –ü—Ä–µ–º—ñ—É–º –ø–∞–∫–µ—Ç ‚Äî 5‚ÄØ000 –≥—Ä–Ω\n"
    "–î–ª—è —Ç–∏—Ö, —Ö—Ç–æ —Ö–æ—á–µ –º–∞–∫—Å–∏–º—É–º –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ —Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ—ó —É–≤–∞–≥–∏\n"
    "‚Ä¢ –í—Å–µ –∑—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç—É\n"
    "‚Ä¢ –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∞ 30-—Ö–≤ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è –∑ —é—Ä–∏—Å—Ç–æ–º\n"
    "‚Ä¢ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∏–π —Ä–æ–∑–≥–ª—è–¥ –ø–∏—Ç–∞–Ω—å\n"
    "‚Ä¢ –î–æ—Å—Ç—É–ø –¥–æ –∫—É—Ä—Å—É –Ω–∞ –ø—ñ–≤—Ä–æ–∫—É (–≤–∫–ª—é—á–∞—é—á–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è)\n"
    "‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è —É –≤–∞—à–∏—Ö —Å–æ—Ü–º–µ—Ä–µ–∂–∞—Ö / —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –∑ –≤—ñ–¥–∑–Ω–∞–∫–æ—é\n"
    "‚úÖ –ì–æ—Ç–æ–≤—ñ —à–∞–±–ª–æ–Ω–∏: –¥–æ–≥–æ–≤—ñ—Ä, –∑–≥–æ–¥–∞ –Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é —Ñ–æ—Ç–æ\n"
    "‚úÖ –ó–Ω–∏–∂–∫–∞ 20‚Äì30% –Ω–∞ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏:\n"
    "‚Ä¢ –ü—É–±–ª—ñ—á–Ω–∞ –æ—Ñ–µ—Ä—Ç–∞: 3‚ÄØ500 –≥—Ä–Ω –∑–∞–º—ñ—Å—Ç—å 5‚ÄØ000 –≥—Ä–Ω\n"
    "‚Ä¢ –ü–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ: 2‚ÄØ400 –≥—Ä–Ω –∑–∞–º—ñ—Å—Ç—å 3‚ÄØ000 –≥—Ä–Ω\n"
    "‚Ä¢ –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –¥–æ–≥–æ–≤—ñ—Ä: 2‚ÄØ400 –≥—Ä–Ω –∑–∞–º—ñ—Å—Ç—å 3‚ÄØ000 –≥—Ä–Ω"
)

payment_reply = "–©–æ–± –∑–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∫–≤—ñ–∑–∏—Ç–∏ –¥–ª—è –æ–ø–ª–∞—Ç–∏ ‚Äî –Ω–∞–ø–∏—à—ñ—Ç—å –º–µ–Ω—ñ —Å—é–¥–∏ üëâ @anastasiia_ful"

# Google Docs direct link
guide_file_url = "https://docs.google.com/document/d/1Tp9DIgYJQHk_8g8NpQwkfga6BOk7penK/export?format=docx"

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("–ü—Ä–∏–≤—ñ—Ç! –û–±–µ—Ä–∏ –æ–ø—Ü—ñ—é –Ω–∏–∂—á–µ:", reply_markup=keyboard_main)

async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text

    if text in ['üì• –û—Ç—Ä–∏–º–∞—Ç–∏ –≥–∞–π–¥', '‚ÑπÔ∏è –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –∫—É—Ä—Å']:
        await update.message.reply_document(guide_file_url)
        await update.message.reply_text(guide_message, reply_markup=keyboard_more)

    elif text == 'üî• –•–æ—á—É!':
        await update.message.reply_text(course_program, reply_markup=keyboard_payment)

    elif text == 'üí≥ –¢–∞—Ä–∏—Ñ–∏':
        await update.message.reply_text(tariffs)

    elif text in ['‚û°Ô∏è –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ–ø–ª–∞—Ç–∏', '‚ùì –ó–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è']:
        await update.message.reply_text(payment_reply)

    else:
        await update.message.reply_text("–û–±–µ—Ä–∏, –±—É–¥—å –ª–∞—Å–∫–∞, –≤–∞—Ä—ñ–∞–Ω—Ç –∑ –º–µ–Ω—é üëá")

# --- –∑–∞–ø—É—Å–∫ ---
import os
app = ApplicationBuilder().token(os.getenv("BOT_TOKEN")).build()
app.add_handler(CommandHandler("start", start))
app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_message))
app.run_polling()