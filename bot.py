from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import ApplicationBuilder, CommandHandler, MessageHandler, ContextTypes, filters
import os

keyboard_main = ReplyKeyboardMarkup([['üì• –û—Ç—Ä–∏–º–∞—Ç–∏ –≥–∞–π–¥', '‚ÑπÔ∏è –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –∫—É—Ä—Å']], resize_keyboard=True)
keyboard_more = ReplyKeyboardMarkup([['üî• –•–æ—á—É!']], resize_keyboard=True)
keyboard_payment = ReplyKeyboardMarkup([['üí≥ –¢–∞—Ä–∏—Ñ–∏'], ['‚û°Ô∏è –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ–ø–ª–∞—Ç–∏', '‚ùì –ó–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è']], resize_keyboard=True)

guide_message = """–ü—Ä–∏–≤—ñ—Ç, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ!
–¢–∏ —â–æ–π–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –≥–∞–π–¥ ‚Äî –æ—Ç–∂–µ, –≤–∂–µ –∑—Ä–æ–±–∏–≤ –ø–µ—Ä—à–∏–π –∫—Ä–æ–∫ –¥–æ –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ —É —Å–≤–æ—ó—Ö –ø—Ä–∞–≤–∞—Ö.
–ê —Ç–µ–ø–µ—Ä ‚Äî –¥–∞–≤–∞–π –ø–æ-—Å–ø—Ä–∞–≤–∂–Ω—å–æ–º—É —Ä–æ–∑–±–µ—Ä–µ–º–æ—Å—è, —è–∫ –ó–ê–•–ò–°–¢–ò–¢–ò —Å–µ–±–µ, —Å–≤–æ—ó —Ñ–æ—Ç–æ —ñ —Å–≤–æ—ó –≥—Ä–æ—à—ñ.
–ó–∞–ø—Ä–æ—à—É—é —Ç–µ–±–µ –Ω–∞ –º—ñ–π –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å ¬´–§–æ—Ç–æ–≥—Ä–∞—Ñ –≤ –∑–∞–∫–æ–Ω—ñ¬ª ‚Äî —Ü–µ —é—Ä–∏–¥–∏—á–Ω–∏–π –∑–∞—Ö–∏—Å—Ç, —è–∫–∏–π –Ω–µ –∑—ñ—Ç—Ä–µ—Ç—å—Å—è —Ñ—ñ–ª—å—Ç—Ä–æ–º.
–•–æ—á–µ—à –±—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫—É—Ä—Å –∞–±–æ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –≤–∞—Ä—Ç—ñ—Å—Ç—å —É—á–∞—Å—Ç—ñ?
"""

course_program = """üìö –ü—Ä–æ–≥—Ä–∞–º–∞ –∫—É—Ä—Å—É ¬´–§–æ—Ç–æ–≥—Ä–∞—Ñ –≤ –∑–∞–∫–æ–Ω—ñ 1.0¬ª

1. –ê–≤—Ç–æ—Ä—Å—å–∫–µ –ø—Ä–∞–≤–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞.
1.1. –û—Å–æ–±–∏—Å—Ç—ñ –Ω–µ–º–∞–π–Ω–æ–≤—ñ –ø—Ä–∞–≤–∞ –∞–≤—Ç–æ—Ä–∞. –ù–µ–¥–æ—Ç–æ—Ä–∫–∞–Ω—ñ—Å—Ç—å —Ç–≤–æ—Ä—É.
1.2. –û—Å–æ–±–∏—Å—Ç—ñ –º–∞–π–Ω–æ–≤—ñ –ø—Ä–∞–≤–∞ –∞–≤—Ç–æ—Ä–∞.
1.3. –Ø–∫—ñ —Ç–≤–æ—Ä–∏ –∑–∞—Ö–∏—â–∞—é—Ç—å—Å—è –∞–≤—Ç–æ—Ä—Å—å–∫–∏–º –ø—Ä–∞–≤–æ–º.
1.4. –°–ø–æ—Å–æ–±–∏ –∑–∞—Ö–∏—Å—Ç—É –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞:
‚Ä¢ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –∑–Ω–∞–∫—É ¬©
‚Ä¢ –≤–æ–¥—è–Ω–∏–π –∑–Ω–∞–∫
‚Ä¢ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞
1.5. –û–±‚Äô—î–∫—Ç–∏, —â–æ –Ω–µ –æ—Ö–æ—Ä–æ–Ω—è—é—Ç—å—Å—è –∞–≤—Ç–æ—Ä—Å—å–∫–∏–º –ø—Ä–∞–≤–æ–º.

2. –ü—Ä–∞–≤–∞ —ñ–Ω—à–∏—Ö –æ—Å—ñ–± –Ω–∞ —Ç–≤—ñ—Ä. –í–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:
‚Ä¢ —Å–ø—ñ–≤–∞–≤—Ç–æ—Ä—Å—Ç–≤–æ
‚Ä¢ —Å–ª—É–∂–±–æ–≤–∏–π —Ç–≤—ñ—Ä
‚Ä¢ —Ç–≤—ñ—Ä –∑–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º

3. –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Å—Ç–∏–ª—é, –ø–æ–∑, –æ–±—Å—Ç–∞–Ω–æ–≤–∫–∏. –ù–∞–¥–∏—Ö–∞–Ω–Ω—è —á—É–∂–∏–º–∏ —Ñ–æ—Ç–æ.

4. –ö–æ–º—É –Ω–∞–ª–µ–∂–∏—Ç—å –ø—Ä–∞–≤–æ –Ω–∞ —Ñ–æ—Ç–æ –∫–ª—ñ—î–Ω—Ç–∞? –ó–π–æ–º–∫–∞ —É –ø—É–±–ª—ñ—á–Ω–∏—Ö –º—ñ—Å—Ü—è—Ö, –∑–≥–æ–¥–∞ –Ω–∞ –∑–π–æ–º–∫—É.

5. –í–∑–∞—î–º–æ–¥—ñ—è –∑ –∫–ª—ñ—î–Ω—Ç–∞–º–∏:
‚Ä¢ –¶–ö–£ —ñ –ó–£ ¬´–ü—Ä–æ –∑–∞—Ö–∏—Å—Ç –ø—Ä–∞–≤ —Å–ø–æ–∂–∏–≤–∞—á—ñ–≤¬ª
‚Ä¢ –©–æ –≤–∫–∞–∑–∞—Ç–∏ –≤ –¥–æ–≥–æ–≤–æ—Ä—ñ –ø—Ä–æ –Ω–∞–¥–∞–Ω–Ω—è –ø–æ—Å–ª—É–≥
‚Ä¢ –Ø–∫ –æ—Ñ–æ—Ä–º–∏—Ç–∏ –ø–µ—Ä–µ–¥–ø–ª–∞—Ç—É
‚Ä¢ –©–æ —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ –∫–ª—ñ—î–Ω—Ç –Ω–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π

6. –î–æ–≥–æ–≤—ñ—Ä, –æ—Ñ–µ—Ä—Ç–∞, –∑–≥–æ–¥–∞ –Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é —Ñ–æ—Ç–æ ‚Äî —â–æ –æ–±—Ä–∞—Ç–∏?

‚úÖ –£—Å–µ —Ü–µ ‚Äî —É —Ñ–æ—Ä–º–∞—Ç—ñ:
‚Ä¢ –í—ñ–¥–µ–æ—É—Ä–æ–∫–∏
‚Ä¢ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó –∑—ñ —Å—Ç–∞—Ç—Ç—è–º–∏ –∑–∞–∫–æ–Ω—É
‚Ä¢ –°—É–¥–æ–≤—ñ —Å–ø—Ä–∞–≤–∏
+ –ë–æ–Ω—É—Å–∏: –≥–∞–π–¥, –µ-—Å—É–¥, –º–æ—Ä–∞–ª—å–Ω–∞ —à–∫–æ–¥–∞, —á–µ–∫–ª—ñ—Å—Ç
"""

tariffs = """üü¢ –ë–∞–∑–æ–≤–∏–π –ø–∞–∫–µ—Ç ‚Äî 2‚ÄØ500 –≥—Ä–Ω
‚Ä¢ –í—ñ–¥–µ–æ—É—Ä–æ–∫–∏, –¥–æ—Å—Ç—É–ø 2 –º—ñ—Å., –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó, —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç

üü° –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–∞–∫–µ—Ç ‚Äî 3‚ÄØ500 –≥—Ä–Ω
‚Ä¢ –í—Å–µ –∑ –±–∞–∑–æ–≤–æ–≥–æ
‚Ä¢ Zoom, —á–∞—Ç, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–µ—Å—Ç—É

üî¥ –ü—Ä–µ–º—ñ—É–º –ø–∞–∫–µ—Ç ‚Äî 5‚ÄØ000 –≥—Ä–Ω
‚Ä¢ –í—Å–µ –∑—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ
‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è, —à–∞–±–ª–æ–Ω–∏, –∑–Ω–∏–∂–∫–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
"""

payment_reply = "–©–æ–± –∑–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∫–≤—ñ–∑–∏—Ç–∏ –¥–ª—è –æ–ø–ª–∞—Ç–∏, –ø–∏—à–∏ üëâ @anastasiia_ful"

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("–ü—Ä–∏–≤—ñ—Ç! –û–±–µ—Ä–∏ –æ–ø—Ü—ñ—é –Ω–∏–∂—á–µ:", reply_markup=keyboard_main)

async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text
    if text in ['üì• –û—Ç—Ä–∏–º–∞—Ç–∏ –≥–∞–π–¥', '‚ÑπÔ∏è –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –∫—É—Ä—Å']:
        await update.message.reply_text(guide_message, reply_markup=keyboard_more)
    elif text == 'üî• –•–æ—á—É!':
        await update.message.reply_text(course_program, reply_markup=keyboard_payment)
    elif text == 'üí≥ –¢–∞—Ä–∏—Ñ–∏':
        await update.message.reply_text(tariffs)
    elif text in ['‚û°Ô∏è –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ–ø–ª–∞—Ç–∏', '‚ùì –ó–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è']:
        await update.message.reply_text(payment_reply)
    else:
        await update.message.reply_text("–û–±–µ—Ä–∏, –±—É–¥—å –ª–∞—Å–∫–∞, –≤–∞—Ä—ñ–∞–Ω—Ç –∑ –º–µ–Ω—é üëá")

app = ApplicationBuilder().token(os.getenv("BOT_TOKEN")).build()
app.add_handler(CommandHandler("start", start))
app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_message))
app.run_polling()
