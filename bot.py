
import logging
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import ApplicationBuilder, CommandHandler, MessageHandler, CallbackQueryHandler, ContextTypes, filters

# –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)

# –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≥–∞–π–¥
GUIDE_LINK = "https://docs.google.com/document/d/1Tp9DIgYJQHk_8g8NpQwkfga6BOk7penK/uc?export=download"

# –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≥–∞–π–¥—É
guide_message = (
    "–ü—Ä–∏–≤—ñ—Ç, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ!\n\n"
    "–¢–∏ —â–æ–π–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –≥–∞–π–¥ ‚Äî –æ—Ç–∂–µ, –≤–∂–µ –∑—Ä–æ–±–∏–≤ –ø–µ—Ä—à–∏–π –∫—Ä–æ–∫ –¥–æ –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ —É —Å–≤–æ—ó—Ö –ø—Ä–∞–≤–∞—Ö.\n\n"
    "üîç –£ –≥–∞–π–¥—ñ —Ç–∏ –∑–Ω–∞–π–¥–µ—à:\n"
    "‚Ä¢ –©–æ —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ —Ç–≤–æ—ó —Ñ–æ—Ç–æ –≤–∫—Ä–∞–ª–∏;\n"
    "‚Ä¢ –Ø–∫ —Ä–µ–∞–≥—É–≤–∞—Ç–∏, –∫–æ–ª–∏ –∫–ª—ñ—î–Ω—Ç –Ω–µ –ø–ª–∞—Ç–∏—Ç—å –∞–±–æ —Å–∫–∞—Å–æ–≤—É—î –∑–π–æ–º–∫—É;\n"
    "‚Ä¢ –Ø–∫—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∑–∞—Ö–∏—â–∞—é—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞ —ñ –∫–æ–ª–∏ —Å–∞–º–µ –≤–æ–Ω–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ;\n"
    "‚Ä¢ + –±–æ–Ω—É—Å ‚Äî –ø–µ—Ä–µ–ª—ñ–∫ —Å—Ç–∞—Ç–µ–π –∑–∞–∫–æ–Ω—ñ–≤, —è–∫—ñ –∑–Ω–∞–¥–æ–±–ª—è—Ç—å—Å—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É.\n\n"
    "–ì–∞–π–¥ ‚Äî —Ü–µ –ª–∏—à–µ 10% —Ç–æ–≥–æ, —â–æ —á–µ–∫–∞—î —Ç–µ–±–µ –Ω–∞ –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å—ñ ¬´–§–æ—Ç–æ–≥—Ä–∞—Ñ –≤ –∑–∞–∫–æ–Ω—ñ¬ª.\n"
    "–•–æ—á–µ—à –±—ñ–ª—å—à–µ? üòâ"
)

# –ü–æ–≤–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –∫—É—Ä—Å—É
course_program = (
    "üìö *–ü—Ä–æ–≥—Ä–∞–º–∞ –∫—É—Ä—Å—É –§–æ—Ç–æ–≥—Ä–∞—Ñ –≤ –∑–∞–∫–æ–Ω—ñ 1.0*\n\n"
    "1. –ê–≤—Ç–æ—Ä—Å—å–∫–µ –ø—Ä–∞–≤–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞.\n"
    "1.1. –û—Å–æ–±–∏—Å—Ç—ñ –Ω–µ–º–∞–π–Ω–æ–≤—ñ –ø—Ä–∞–≤–∞ –∞–≤—Ç–æ—Ä–∞. –ù–µ–¥–æ—Ç–æ—Ä–∫–∞–Ω—ñ—Å—Ç—å —Ç–≤–æ—Ä—É.\n"
    "1.2. –û—Å–æ–±–∏—Å—Ç—ñ –º–∞–π–Ω–æ–≤—ñ –ø—Ä–∞–≤–∞ –∞–≤—Ç–æ—Ä–∞.\n"
    "1.3. –Ø–∫—ñ —Ç–≤–æ—Ä–∏ –∑–∞—Ö–∏—â–∞—é—Ç—å—Å—è –∞–≤—Ç–æ—Ä—Å—å–∫–∏–º –ø—Ä–∞–≤–æ–º.\n"
    "1.4. –°–ø–æ—Å–æ–±–∏ –∑–∞—Ö–∏—Å—Ç—É –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞:\n"
    "   ‚Ä¢ –†–æ–∑–º—ñ—â–µ–Ω–Ω—è –∑–Ω–∞–∫—É ¬©\n"
    "   ‚Ä¢ –í–æ–¥—è–Ω–∏–π –∑–Ω–∞–∫\n"
    "   ‚Ä¢ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞\n"
    "1.5. –û–±‚Äô—î–∫—Ç–∏, —â–æ –Ω–µ –æ—Ö–æ—Ä–æ–Ω—è—é—Ç—å—Å—è –∞–≤—Ç–æ—Ä—Å—å–∫–∏–º –ø—Ä–∞–≤–æ–º.\n\n"
    "2. –ü—Ä–∞–≤–∞ —ñ–Ω—à–∏—Ö –æ—Å—ñ–± –Ω–∞ —Ç–≤—ñ—Ä. –í–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.\n"
    "   ‚Ä¢ –°–ø—ñ–≤–∞–≤—Ç–æ—Ä—Å—Ç–≤–æ\n"
    "   ‚Ä¢ –ê–≤—Ç–æ—Ä—Å—å–∫–µ –ø—Ä–∞–≤–æ –Ω–∞ —Å–ª—É–∂–±–æ–≤–∏–π —Ç–≤—ñ—Ä\n"
    "   ‚Ä¢ –ê–≤—Ç–æ—Ä—Å—å–∫–µ –ø—Ä–∞–≤–æ –Ω–∞ —Ç–≤—ñ—Ä, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º\n"
    "   ‚Ä¢ –ü—ñ–¥—Å—Ç–∞–≤–∏ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞ —ñ —Å—É–º—ñ–∂–Ω–∏—Ö –ø—Ä–∞–≤\n\n"
    "3. –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Å—Ç–∏–ª—é, –ø–æ–∑, –æ–±—Å—Ç–∞–Ω–æ–≤–∫–∏. –ù–∞–¥–∏—Ö–∞–Ω–Ω—è —á—É–∂–∏–º–∏ —Ñ–æ—Ç–æ.\n\n"
    "4. –ö–æ–º—É –Ω–∞–ª–µ–∂–∏—Ç—å –ø—Ä–∞–≤–æ –Ω–∞ —Ñ–æ—Ç–æ –∫–ª—ñ—î–Ω—Ç–∞? –ó–π–æ–º–∫–∞ —É –ø—É–±–ª—ñ—á–Ω–∏—Ö –º—ñ—Å—Ü—è—Ö, –∑–≥–æ–¥–∞ –Ω–∞ –∑–π–æ–º–∫—É.\n\n"
    "5. –í–∑–∞—î–º–æ–¥—ñ—è –∑ –∫–ª—ñ—î–Ω—Ç–∞–º–∏.\n"
    "   ‚Ä¢ –ó–∞–≥–∞–ª—å–Ω—ñ –ø–æ–ª–æ–∂–µ–Ω–Ω—è –¶–ö–£ —Ç–∞ –ó–£ ¬´–ü—Ä–æ –ø—Ä–∞–≤–∞ —Å–ø–æ–∂–∏–≤–∞—á—ñ–≤¬ª.\n"
    "   ‚Ä¢ –ù–∞ —â–æ –∑–≤–µ—Ä–Ω—É—Ç–∏ —É–≤–∞–≥—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É –≤ –¥–æ–≥–æ–≤–æ—Ä—ñ –ø—Ä–æ –Ω–∞–¥–∞–Ω–Ω—è –ø–æ—Å–ª—É–≥.\n"
    "   ‚Ä¢ –Ø–∫ –æ—Ñ–æ—Ä–º–∏—Ç–∏ –ø–µ—Ä–µ–¥–ø–ª–∞—Ç—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ñ –≤–∏–≥—ñ–¥–Ω–æ?\n"
    "   ‚Ä¢ –ö–ª—ñ—î–Ω—Ç—É –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç.\n\n"
    "6. –ú–µ—Ö–∞–Ω—ñ–∑–º–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è —Å—Ç–æ—Å—É–Ω–∫—ñ–≤ –∑ –∫–ª—ñ—î–Ω—Ç–æ–º: –¥–æ–≥–æ–≤—ñ—Ä, –æ—Ñ–µ—Ä—Ç–∞, –∑–≥–æ–¥–∞ –Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é —Ñ–æ—Ç–æ ‚Äî —â–æ –∫—Ä–∞—â–µ –æ–±—Ä–∞—Ç–∏? –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.\n\n"
    "–£ –∫–æ–∂–Ω–æ–º—É –º–æ–¥—É–ª—ñ:\n"
    "‚Ä¢ –í—ñ–¥–µ–æ —É—Ä–æ–∫–∏\n"
    "‚Ä¢ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è –∑—ñ —Å—Ç–∞—Ç—Ç—è–º–∏ –∑–∞–∫–æ–Ω—ñ–≤\n"
    "‚Ä¢ –ü—Ä–∏–∫–ª–∞–¥–∏ —Ä–µ–∞–ª—å–Ω–∏—Ö —Å—É–¥–æ–≤–∏—Ö —Å–ø—Ä–∞–≤\n\n"
    "*–ë–æ–Ω—É—Å–∏:*\n"
    "‚Ä¢ –ì–∞–π–¥ ‚Äì –∑–∞—Ö–∏—Å—Ç –∞–≤—Ç–æ—Ä—Å—å–∫–æ–≥–æ –ø—Ä–∞–≤–∞ –≤ —Å–æ—Ü–º–µ—Ä–µ–∂–∞—Ö\n"
    "‚Ä¢ –£—Ä–æ–∫ ‚Äì —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º—É —Å—É–¥—ñ\n"
    "‚Ä¢ –ì–∞–π–¥ –∑ –º–æ—Ä–∞–ª—å–Ω–æ—ó —à–∫–æ–¥–∏\n"
    "‚Ä¢ –ß–µ–∫-–ª—ñ—Å—Ç ‚Äî ‚Äú–Ø–∫ –∑–Ω—ñ–º–∞—Ç–∏ –ø–æ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—É –±–µ–∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è –∞–≤—Ç–æ—Ä—Å—å–∫–∏—Ö –ø—Ä–∞–≤‚Äù"
)

# –¢–∞—Ä–∏—Ñ–∏ –∫—É—Ä—Å—É
tariffs = (
    "üíµ *–¢–∞—Ä–∏—Ñ–∏:*\n\n"
    "üü¢ *–ë–∞–∑–æ–≤–∏–π –ø–∞–∫–µ—Ç ‚Äî 2‚ÄØ500 –≥—Ä–Ω*\n"
    "–ü—ñ–¥—ñ–π–¥–µ —Ç–∏–º, —Ö—Ç–æ —Ö–æ—á–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤.\n"
    "‚Ä¢ –î–æ—Å—Ç—É–ø –¥–æ –≤—ñ–¥–µ–æ —É—Ä–æ–∫—ñ–≤\n"
    "‚Ä¢ –î–æ—Å—Ç—É–ø –¥–æ –∫—É—Ä—Å—É –Ω–∞ 2 –º—ñ—Å—è—Ü—ñ\n"
    "‚Ä¢ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó —Ç–∞ –ø–∏—Å—å–º–æ–≤—ñ –±–æ–Ω—É—Å–∏\n"
    "‚Ä¢ –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç\n"
    "‚Ä¢ –ë–µ–∑ —É—á–∞—Å—Ç—ñ –≤ Zoom-—Å–µ—Å—ñ—ó\n\n"
    "üü° *–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–∞–∫–µ—Ç ‚Äî 3‚ÄØ500 –≥—Ä–Ω*\n"
    "‚Ä¢ –í—Å–µ –∑ –±–∞–∑–æ–≤–æ–≥–æ –ø–∞–∫–µ—Ç—É\n"
    "‚Ä¢ –£—á–∞—Å—Ç—å —É Zoom-—Å–µ—Å—ñ—ó\n"
    "‚Ä¢ –ß–∞—Ç –∑ —É—á–∞—Å–Ω–∏–∫–∞–º–∏\n"
    "‚Ä¢ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–¥–∞—Ç–∏ –ø–∏—Å—å–º–æ–≤–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è\n"
    "‚Ä¢ –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É\n\n"
    "üî¥ *–ü—Ä–µ–º—ñ—É–º –ø–∞–∫–µ—Ç ‚Äî 5‚ÄØ000 –≥—Ä–Ω*\n"
    "‚Ä¢ –í—Å–µ –∑—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç—É\n"
    "‚Ä¢ –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è\n"
    "‚Ä¢ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∏–π —Ä–æ–∑–≥–ª—è–¥ –ø–∏—Ç–∞–Ω—å\n"
    "‚Ä¢ –î–æ—Å—Ç—É–ø –¥–æ –∫—É—Ä—Å—É –Ω–∞ –ø—ñ–≤—Ä–æ–∫—É\n"
    "‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è —É —Å–æ—Ü–º–µ—Ä–µ–∂–∞—Ö / —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –∑ –≤—ñ–¥–∑–Ω–∞–∫–æ—é\n"
    "‚Ä¢ –®–∞–±–ª–æ–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤\n"
    "‚Ä¢ –ó–Ω–∏–∂–∫–∞ 20‚Äì30% –Ω–∞ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏"
)

# –í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ "–ó–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è"
ask_question = "–©–æ–± –∑–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è, –ø–∏—à–∏ –º–µ–Ω—ñ —Å—é–¥–∏ üëâ @anastasiia_ful"

# –û–±—Ä–æ–±–∫–∞ —Å—Ç–∞—Ä—Ç—É
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_document(GUIDE_LINK)
    await update.message.reply_text(guide_message, reply_markup=InlineKeyboardMarkup([
        [InlineKeyboardButton("üîé –ü—Ä–æ–≥—Ä–∞–º–∞ –∫—É—Ä—Å—É", callback_data="program")],
        [InlineKeyboardButton("üíµ –¢–∞—Ä–∏—Ñ–∏", callback_data="tariffs")],
        [InlineKeyboardButton("‚úâÔ∏è –ó–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è", callback_data="question")]
    ]))

# –û–±—Ä–æ–±–∫–∞ –∫–Ω–æ–ø–æ–∫
async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()
    if query.data == "program":
        await query.message.reply_text(course_program, parse_mode="Markdown")
    elif query.data == "tariffs":
        await query.message.reply_text(tariffs, parse_mode="Markdown")
    elif query.data == "question":
        await query.message.reply_text(ask_question)

# –û—Å–Ω–æ–≤–Ω–∏–π –∑–∞–ø—É—Å–∫
if __name__ == '__main__':
    import os
    TOKEN = os.getenv("BOT_TOKEN")
    app = ApplicationBuilder().token(TOKEN).build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CallbackQueryHandler(button_handler))
    app.run_polling()
